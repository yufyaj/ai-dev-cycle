{
  "project": "ai-dev-cycle",
  "items": [
    {
      "key": "T01",
      "title": "feat: 認証・アカウント管理機能の実装",
      "summary": "ロール別（ワーカー/管理者/顧客）の認証・認可機能を実装する。ログイン、アカウント発行・無効化、セッション管理（1時間タイムアウト）、パスワード変更を含む。",
      "acceptance": [
        "[正常系] Given: 管理者が顧客アカウントを新規発行する操作を実施, When: 有効なメールアドレスとロール（顧客）を指定, Then: アカウントが作成され、初回ログイン用の認証情報が発行される",
        "[異常系] Given: 既に登録済みのメールアドレスでアカウント発行を試行, When: 管理者が重複するメールアドレスを入力, Then: エラーメッセージ「このメールアドレスは既に使用されています」が表示され、アカウントは作成されない"
      ],
      "priority": "P0",
      "labels": ["feature", "backend", "frontend", "ai:task"],
      "depends_on": []
    },
    {
      "key": "T02",
      "title": "feat: 監査ログ・変更履歴機能の実装",
      "summary": "システム内の重要操作（アカウント作成・無効化、プロジェクト作成・編集・削除、リスト登録・割り当て、実績入力・編集）を記録する監査ログ機能を実装する。管理者による閲覧・検索・フィルタ機能を含む。",
      "acceptance": [
        "[正常系] Given: 管理者がプロジェクトの送信文章テンプレートを編集, When: 変更を保存, Then: 監査ログに「管理者A、プロジェクト「○○社向けキャンペーン」のテンプレートを編集、2025-10-19 15:00」が記録される",
        "[異常系] Given: ワーカーが監査ログ画面にアクセス, When: 直接URLでアクセスを試行, Then: 403エラーが表示され、アクセスが拒否される（監査ログは管理者のみ閲覧可能）"
      ],
      "priority": "P0",
      "labels": ["feature", "backend", "ai:task"],
      "depends_on": ["T01"]
    },
    {
      "key": "T03",
      "title": "feat: プロジェクト管理機能の実装",
      "summary": "管理者がプロジェクトを作成・編集・削除（論理削除）する機能を実装する。顧客紐づけ（1対多対応可能）と送信文章テンプレートの設定を含む。",
      "acceptance": [
        "[正常系] Given: 管理者が新規プロジェクトを作成, When: プロジェクト名「○○社向けキャンペーン」、顧客「○○社」、送信文章テンプレートを入力, Then: プロジェクトが作成され、管理者・紐づけ顧客がプロジェクト一覧で参照可能になる",
        "[異常系] Given: プロジェクト削除を実施, When: 管理者が削除ボタンを押下, Then: プロジェクトは論理削除され、一覧には表示されないが、過去の実績データは保持される"
      ],
      "priority": "P1",
      "labels": ["feature", "backend", "frontend", "ai:task"],
      "depends_on": ["T01", "T02"]
    },
    {
      "key": "T04",
      "title": "feat: 営業リスト管理機能の実装",
      "summary": "管理者が営業リストを登録・管理する機能を実装する。手動登録、CSV一括インポート（最大10万件/プロジェクト、バックグラウンド処理）、ワーカーへの割り当て（複数ワーカーへの重複割り当て可能）、ステータス管理を含む。",
      "acceptance": [
        "[正常系] Given: 管理者が5000件の営業先を含むCSVをアップロード, When: CSVフォーマットが正しく、プロジェクトの上限（10万件）以内, Then: 5000件のリスト項目が登録され、管理画面で一覧表示される",
        "[異常系] Given: 管理者が10万件を超えるCSVをアップロード, When: CSVに11万件のレコードが含まれる, Then: エラーメッセージ「1プロジェクトあたりのリスト上限（10万件）を超えています」が表示され、インポートが中止される"
      ],
      "priority": "P1",
      "labels": ["feature", "backend", "frontend", "ai:task"],
      "depends_on": ["T03"]
    },
    {
      "key": "T05",
      "title": "feat: ワーカー実績入力機能の実装",
      "summary": "ワーカーが割り当てられたリスト項目を閲覧し、フォーム送信後の実績を入力する機能を実装する。送信日時、成功/失敗、メモ、返信フラグの記録と、実績の編集（誤入力修正）を含む。",
      "acceptance": [
        "[正常系] Given: ワーカーが割り当てられたリスト項目の実績を入力, When: 送信日時「2025-10-19 14:30」、成功、メモ「担当者不在のため再送」を入力, Then: 実績が保存され、ステータスが「完了」に更新される",
        "[異常系] Given: ワーカーが他のワーカーに割り当てられたリスト項目にアクセス, When: 直接URLでアクセスを試行, Then: 403エラーが表示され、アクセスが拒否される"
      ],
      "priority": "P1",
      "labels": ["feature", "backend", "frontend", "ai:task"],
      "depends_on": ["T04"]
    },
    {
      "key": "T06",
      "title": "feat: 進捗・実績管理機能の実装",
      "summary": "管理者がプロジェクト全体およびワーカー別の進捗・実績を確認する機能を実装する。サマリー表示（総件数、完了件数、返信件数、完了率）、検索・フィルタ（ステータス、ワーカー、期間）、返信フラグの登録・更新、CSVエクスポート（最大10万件）を含む。",
      "acceptance": [
        "[正常系] Given: 管理者がプロジェクトの実績データをエクスポート, When: 「2025年10月」の期間で5000件のデータを選択, Then: 5000件を含むCSVファイルがダウンロードされる",
        "[異常系] Given: 管理者が10万件を超えるデータをエクスポート, When: 11万件のデータを選択してエクスポート実行, Then: エラーメッセージ「エクスポート上限（10万件）を超えています。期間を絞ってください」が表示される"
      ],
      "priority": "P2",
      "labels": ["feature", "backend", "frontend", "ai:task"],
      "depends_on": ["T05"]
    },
    {
      "key": "T07",
      "title": "feat: 顧客ダッシュボード機能の実装",
      "summary": "顧客が紐づけられたプロジェクトの進捗・実績を確認する機能を実装する。サマリー表示（総件数、完了件数、返信件数、完了率）、グラフ表示（日別の完了推移、返信率推移）、手動リフレッシュボタン、CSVエクスポート（最大10万件）を含む。",
      "acceptance": [
        "[正常系] Given: 顧客がダッシュボードにアクセス, When: 紐づけられたプロジェクトが1件存在し、完了率が60%, Then: サマリーに「総件数: 1000件、完了: 600件、返信: 50件、完了率: 60%」が表示される",
        "[異常系] Given: 顧客が紐づけられていないプロジェクトにアクセス, When: 直接URLでアクセスを試行, Then: 403エラーが表示され、アクセスが拒否される"
      ],
      "priority": "P2",
      "labels": ["feature", "backend", "frontend", "ai:task"],
      "depends_on": ["T05"]
    },
    {
      "key": "T08",
      "title": "infra: セキュリティ対策の実装",
      "summary": "HTTPS通信、CSP有効化、XSS/SQLインジェクション対策、パスワードハッシュ化、RBAC（ロールベースアクセス制御）、セッション管理（1時間タイムアウト）を実装する。",
      "acceptance": [
        "[正常系] Given: ユーザーがログイン, When: パスワードを入力して認証, Then: パスワードはハッシュ化されて保存され、セッションは1時間無操作でタイムアウトする",
        "[異常系] Given: 悪意のあるスクリプトを含む入力, When: フォームに送信, Then: XSS対策により無害化され、適切なエラーメッセージが表示される"
      ],
      "priority": "P1",
      "labels": ["infrastructure", "security", "ai:task"],
      "depends_on": ["T01"]
    },
    {
      "key": "T09",
      "title": "infra: 可観測性の実装",
      "summary": "全リクエストへのトレースID付与、サーバー側エラーログ記録、監査ログ記録を実装する。ログ相関とトレーシングをサポート。",
      "acceptance": [
        "[正常系] Given: ユーザーがAPIリクエストを送信, When: リクエストが処理される, Then: 一意のトレースIDがログに記録され、エラー発生時はスタックトレースが記録される"
      ],
      "priority": "P1",
      "labels": ["infrastructure", "observability", "ai:task"],
      "depends_on": ["T02"]
    },
    {
      "key": "T10",
      "title": "infra: 性能要件の達成",
      "summary": "全操作のレスポンスタイム3秒以内（P95）、同時接続65名対応（ワーカー50名、管理者5名、顧客10名）、10万件のCSVエクスポート5分以内を達成する。",
      "acceptance": [
        "[正常系] Given: 65名のユーザーが同時接続, When: 各種操作を実施, Then: レスポンスタイムはP95で3秒以内を維持する",
        "[正常系] Given: 管理者が10万件のCSVをエクスポート, When: エクスポート実行, Then: 5分以内にダウンロードが完了する"
      ],
      "priority": "P2",
      "labels": ["infrastructure", "performance", "ai:task"],
      "depends_on": ["T06", "T07"]
    },
    {
      "key": "T11",
      "title": "infra: バックアップ・データ保持・可用性の実装",
      "summary": "日次バックアップ（保持期間30日）、実績データの無期限保持（論理削除）、稼働率99.9%（年間ダウンタイム8.76時間以内）を実現する。",
      "acceptance": [
        "[正常系] Given: システムが稼働中, When: 日次バックアップが実行, Then: 過去30日分のバックアップが保持される",
        "[正常系] Given: プロジェクトを削除, When: 削除実行, Then: プロジェクトは論理削除され、実績データは保持される"
      ],
      "priority": "P2",
      "labels": ["infrastructure", "ai:task"],
      "depends_on": ["T03"]
    },
    {
      "key": "T12",
      "title": "infra: レスポンシブデザイン対応",
      "summary": "PC（Windows/Mac）、タブレット（iPad等）に対応したレスポンシブUIを実装する。対応ブラウザ：Chrome最新版、Edge最新版、Safari最新版。",
      "acceptance": [
        "[正常系] Given: ユーザーがタブレットでアクセスした時, When: 画面が表示されると, Then: タブレット最適化されたレイアウトが表示される",
        "[正常系] Given: ユーザーがPCでアクセスした時, When: 画面が表示されると, Then: デスクトップ最適化されたレイアウトが表示される"
      ],
      "priority": "P2",
      "labels": ["infrastructure", "frontend", "ui/ux", "ai:task"],
      "depends_on": ["T01", "T03", "T04", "T05", "T06", "T07"]
    }
  ]
}
